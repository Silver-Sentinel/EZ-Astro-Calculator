# Layout Reference - Visual Guide

## Current Layout (Before)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [Natal Chart] [Synastry] [Transits]                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  Birth Date: [        ]                                  â”‚
â”‚  Birth Time: [        ]     Timezone: [      ]          â”‚
â”‚  Latitude: [        ]       Longitude: [      ]         â”‚
â”‚                                                          â”‚
â”‚              [Calculate Natal Chart]                     â”‚
â”‚                                                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”‚
â”‚                                                          â”‚
â”‚  Output appears here below inputs (requires scrolling)  â”‚
â”‚                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Problems:**
- Only one set of inputs
- Output below inputs (can't see both)
- Can't copy partial results easily
- No location search


## New Layout (After)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸŒŸ Astrological Chart Calculator                                              â”‚
â”‚  Fagan-Bradley Sidereal â€¢ Placidus Houses                                     â”‚
â”‚                                                                                â”‚
â”‚  [ğŸ“Š Natal Chart] [ğŸ’‘ Synastry] [ğŸ”„ Transits]                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                  â”‚                                             â”‚
â”‚  INPUT PANEL (40%)               â”‚  OUTPUT PANEL (60%)                         â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•               â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                        â”‚
â”‚                                  â”‚                                             â”‚
â”‚  â–¼ Person 1                      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”œâ”€ Name: [John Doe        ]     â”‚  â”‚ Chart Output Text                     â”‚ â”‚
â”‚  â”œâ”€ Gender: â¦¿ Male â—‹ Female      â”‚  â”‚                                       â”‚ â”‚
â”‚  â”‚          â—‹ Other               â”‚  â”‚ Sun 15Â° Aries in 3rd house           â”‚ â”‚
â”‚  â”œâ”€ Birth Date: [03/21/1990] ğŸ“…  â”‚  â”‚ Moon 22Â° Cancer in 7th house; ...    â”‚ â”‚
â”‚  â”œâ”€ Birth Time: [14:30   ] ğŸ•    â”‚  â”‚ Mercury 8Â° Pisces in 2nd house       â”‚ â”‚
â”‚  â”œâ”€ Timezone: [GMT-5:00 (EST)] â–¼ â”‚  â”‚ ...                                   â”‚ â”‚
â”‚  â”‚                                â”‚  â”‚                                       â”‚ â”‚
â”‚  â”œâ”€ Location:                     â”‚  â”‚ (User can select and copy            â”‚ â”‚
â”‚  â”‚   [New York, NY       ] ğŸ”     â”‚  â”‚  any portion of this text)           â”‚ â”‚
â”‚  â”‚   â†“ Results dropdown           â”‚  â”‚                                       â”‚ â”‚
â”‚  â”‚   Or enter manually:           â”‚  â”‚ (Resizable by dragging edges)        â”‚ â”‚
â”‚  â”œâ”€ Latitude:  [40.7128  ]        â”‚  â”‚                                       â”‚ â”‚
â”‚  â””â”€ Longitude: [-74.0060 ]        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                  â”‚                                             â”‚
â”‚  â–¼ Person 2                      â”‚  [ğŸ“‹ Copy to Clipboard]                     â”‚
â”‚  â”œâ”€ Name: [Jane Smith      ]     â”‚                                             â”‚
â”‚  â”œâ”€ Gender: â—‹ Male â¦¿ Female      â”‚                                             â”‚
â”‚  â”‚          â—‹ Other               â”‚                                             â”‚
â”‚  â”œâ”€ Birth Date: [09/15/1992] ğŸ“…  â”‚                                             â”‚
â”‚  â”œâ”€ Birth Time: [08:15   ] ğŸ•    â”‚                                             â”‚
â”‚  â”œâ”€ Timezone: [GMT-8:00 (PST)] â–¼ â”‚                                             â”‚
â”‚  â”‚                                â”‚                                             â”‚
â”‚  â”œâ”€ Location:                     â”‚                                             â”‚
â”‚  â”‚   [Los Angeles, CA    ] ğŸ”     â”‚                                             â”‚
â”‚  â”œâ”€ Latitude:  [34.0522  ]        â”‚                                             â”‚
â”‚  â””â”€ Longitude: [-118.2437]        â”‚                                             â”‚
â”‚                                  â”‚                                             â”‚
â”‚         [Calculate Chart]         â”‚                                             â”‚
â”‚                                  â”‚                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Tab-Specific Behavior

### Natal Chart Tab
```
Person 1                Person 2
[All fields enabled]    [All fields enabled]

Output:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Person 1: John Doe
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Sun 15Â° Aries in 3rd house
Moon 22Â° Cancer in 7th house; ...
[Full natal chart]

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Person 2: Jane Smith
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Sun 22Â° Virgo in 9th house
Moon 10Â° Taurus in 5th house; ...
[Full natal chart]
```

### Synastry Tab
```
Person 1                Person 2
[All fields enabled]    [All fields enabled]

Output:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
John â†’ Jane (John's planets in Jane's houses)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
John's Sun 15Â° Aries in Jane's 3rd house
John's Moon 22Â° Cancer in Jane's 7th house; conjunct Jane's Venus
...

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Jane â†’ John (Jane's planets in John's houses)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Jane's Sun 22Â° Virgo in John's 9th house
Jane's Moon 10Â° Taurus in John's 5th house; trine John's Sun
...
```

### Transits Tab
```
Natal Person            Transit Date
[All fields enabled]    [Name GRAYED OUT]
                        [Date/Time enabled]

Output:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Natal Chart: John Doe
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Sun 15Â° Aries in 3rd house
Moon 22Â° Cancer in 7th house
...
Fortuna 10Â° Taurus in 4th house
Vertex 18Â° Scorpio in 11th house
AC 5Â° Aquarius
MC 12Â° Scorpio

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Transits for 10/30/2025 14:30 GMT
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Transiting Sun 6Â° Scorpio in 11th house; trine natal Moon
Transiting Moon 14Â° Pisces in 3rd house; square natal Sun
Transiting Mercury 25Â° Libra in 10th house
...
(No Fortuna, Vertex, AC, MC in transits)
```

## Location Search Feature

### How It Works:
```
1. User types: "New Y"
   â†“
2. After 300ms, API call to GeoNames
   â†“
3. Dropdown appears:
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ New York, NY, USA               â”‚
   â”‚ New York Mills, MN, USA         â”‚
   â”‚ New Ykepa, Liberia              â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   â†“
4. User clicks "New York, NY, USA"
   â†“
5. Latitude and Longitude auto-fill:
   Latitude: [40.7128]
   Longitude: [-74.0060]
```

### Offline Fallback:
```
Location: [New York] ğŸ”
          â†“
[âŒ Unable to search locations. Enter coordinates manually below.]

Or enter manually:
Latitude: [        ]
Longitude: [        ]
```

## Output Panel Features

### Resizable Textarea
- Drag corners to resize
- Maintains minimum: 300px Ã— 400px
- Has scrollbars for overflow
- Monospace font for alignment

### Copy Functionality
1. **Full copy:** Click "Copy to Clipboard" button
2. **Partial copy:** Select text with mouse, Ctrl+C

### Text Format (Monospace for alignment)
```
Sun      15Â° Aries      in 3rd house
Moon     22Â° Cancer     in 7th house; conjunct Venus
Mercury   8Â° Pisces     in 2nd house
Venus    18Â° Gemini     in 6th house; square Mars
Mars     25Â° Virgo      in 9th house
Jupiter  10Â° Sagittarius in 12th house
Saturn    5Â° Capricorn  in 1st house
```

## Color Scheme

### Input Panel (Left)
- Background: Light gray (#f5f5f5)
- Text: Dark gray (#1f2937)
- Borders: Light border (#e5e7eb)
- Fields: White background

### Output Panel (Right)
- Background: White (#ffffff)
- Textarea: White with light border
- Button: Purple (#6366f1)
- Text: Dark gray, monospace

### Tab Buttons
- Active: Purple (#6366f1)
- Inactive: Light gray
- Hover: Slightly darker

## Responsive Behavior

### Desktop (1920px+)
- Left: 40% | Right: 60%
- Large textarea
- No scrolling on inputs

### Laptop (1366px)
- Left: 40% | Right: 60%
- Medium textarea
- Inputs may scroll if many

### Tablet (768px)
- Stack vertically
- Inputs: 100% width on top
- Output: 100% width below

## Implementation Priority

### Phase 1: Core Structure â­â­â­ (Must Have)
- Dual input sets
- New layout (left/right panels)
- Output textarea
- Copy button

### Phase 2: Calculations â­â­â­ (Must Have)
- Fortuna & Vertex
- Synastry (transposed houses)
- Transits (exclude angles)

### Phase 3: Location Search â­â­ (Nice to Have)
- GeoNames API
- Dropdown results
- Auto-fill coordinates
- Offline fallback

### Phase 4: Polish â­ (Enhancement)
- Resizable splitter between panels
- Remember last location search
- Form validation messages
- Loading indicators

## Key Differences from Current Version

| Feature | Before | After |
|---------|--------|-------|
| Input sets | 1 | 2 |
| Layout | Vertical | Horizontal split |
| Output | Below (scroll) | Right panel (visible) |
| Copy | No easy way | Button + selectable text |
| Location | Manual coords only | Search + manual |
| Fortuna/Vertex | Missing | Included |
| Synastry | Not implemented | Transposed houses |
| Transits | Not implemented | Planets only |
| Gender field | Missing | Added |
| Name/Label | Missing | Added |

## File Changes Summary

### Major Edits:
1. **dist/index.html** - Complete restructure (30+ changes)
2. **src/chart.rs** - Add 4 new functions
3. **src/formatter.rs** - Update output format
4. **CSS** - New flexbox layout

### New Files:
None (all modifications to existing files)

---

This reference guide shows exactly what we're building tomorrow. Refer to IMPLEMENTATION_PLAN.md for detailed technical specifications. ğŸš€
